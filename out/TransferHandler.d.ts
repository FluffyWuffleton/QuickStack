import Island from "game/island/Island";
import Item from "game/item/Item";
import { IContainer, ItemType, ItemTypeGroup } from "game/item/IItem";
import Player from "game/entity/player/Player";
import { QSMatchableGroupKey } from "./StaticHelper";
import { ITransferTarget, THState, ITransferPairing, ITransferItemMatch, THTargettingParam, IMatchParam } from "./ITransferHandler";
import Log from "utilities/Log";
export declare type ThingWithContents = Pick<IContainer, "containedItems">;
export declare function isHeldContainer(player: Player, item: Item): boolean;
export declare function isContainerType(player: Player, type: ItemType): boolean;
export declare function isInHeldContainer(player: Player, item: Item): boolean;
export declare function playerHasItem(player: Player, item: Item): boolean;
export declare function playerHasType(player: Player, type: ItemType): boolean;
export declare function playerHeldContainers(player: Player, type?: ItemType[]): IContainer[];
export declare function validNearby(player: Player): IContainer[];
export default class TransferHandler {
    readonly player: Player;
    readonly sources: ITransferTarget[];
    readonly destinations: ITransferTarget[];
    readonly island: Island;
    readonly typeFilter: IMatchParam[];
    readonly log: Log | undefined;
    readonly bottomUp: boolean;
    private _state;
    private _executionResults;
    private _anyFailed;
    private _anySuccess;
    private _anyPartial;
    get state(): THState;
    get executionResults(): ITransferPairing[][];
    get anySuccess(): boolean;
    get anyPartial(): boolean;
    get anyFailed(): boolean;
    private static groupifyParameters;
    private static setOfTypes;
    private static setOfActiveGroups;
    private static setOfParams;
    private static setOfFlatParams;
    static getMatches(A: ThingWithContents[], B: ThingWithContents[], filter?: IMatchParam[]): ITransferItemMatch[];
    static hasMatch(A: ThingWithContents[], B: ThingWithContents[], filter?: IMatchParam[]): boolean;
    static canMatch(X: ThingWithContents[], params: IMatchParam[]): boolean;
    static getActiveGroup(type: ItemType | ItemTypeGroup): QSMatchableGroupKey | undefined;
    static canFitAny(src: ThingWithContents[], dest: IContainer[], player: Player, filter?: IMatchParam[]): boolean;
    private resolveTargetting;
    private executeTransfer;
    private reportMessages;
    private constructor();
    static MakeAndRun(player: Player, source: THTargettingParam[] | IContainer[], dest: THTargettingParam[] | IContainer[], filterTypes?: IMatchParam[] | undefined, log?: Log, successFlag?: {
        failed: boolean;
    }, suppress?: {
        report?: true;
        delay: true;
    }): void;
}
